```yaml
apiVersion: v1
kind: Secret
metadata:
 name: gift-secret
 labels:
   app: gift-service
   project: gift-service
   tier: backend
# Secret for storing sensitive data like JWT and Kakao credentials
data:
 JWT_SECRET: WW4ya2ppYmRkRkFXdG5QSjJBRmxMOFdYbW9oSk1DdmlnUWdnYUV5cGE1RT0=
 KAKAO_CLIENT_ID: YWMyMGQ4NGY5N2I2NzlmMGJiZDlhODA2NWJhODIzZjM=
 KAKAO_CLIENT_SECRET: RnczSmlMNVBrcGV2WFZaOU9pVk04YmZiZ0hVUEQ1RUE=
---
apiVersion: v1
kind: ConfigMap
metadata:
 name: gift-config
 labels:
   app: gift-service
   project: gift-service
   tier: backend
# ConfigMap for storing non-sensitive configuration data
data:
 SERVICE_PRODUCT_URI: http://product-service-svc:8081
 SERVICE_WISH_URI: http://wish-service-svc:8082
 SERVICE_USER_URI: http://user-service-svc:8084
 SERVICE_ORDER_URI: http://order-service-svc:8083
 KAKAO_REDIRECT_URI: http://localhost:8080/members/login/oauth2/code/kakao
 API_GATEWAY_URI: http://api-gateway-svc:8080
 FRONT_DOMAIN: http://localhost:8080
---
apiVersion: apps/v1
kind: Deployment
metadata:
 name: api-gateway
 labels:
   app: api-gateway
   project: gift-service
   tier: backend
# Deployment for api-gateway service
spec:
 replicas: 1
 selector:
   matchLabels:
     app: api-gateway
 template:
   metadata:
     labels:
       app: api-gateway
       project: gift-service
       tier: backend
   spec:
     containers:
     - name: api-gateway
       image: sk124590/api-gateway:2.1
       ports:
       - containerPort: 8080
       envFrom:
       - configMapRef:
           name: gift-config
       - secretRef:
           name: gift-secret
       resources:
         requests:
           cpu: "100m"
           memory: "256Mi"
         limits:
           cpu: "500m"
           memory: "512Mi"
---
apiVersion: v1
kind: Service
metadata:
 name: api-gateway-svc
 labels:
   app: api-gateway
   project: gift-service
   tier: backend
# Service for api-gateway
spec:
 type: ClusterIP
 ports:
 - port: 8080
   targetPort: 8080
 selector:
   app: api-gateway
---
apiVersion: apps/v1
kind: Deployment
metadata:
 name: user-service
 labels:
   app: user-service
   project: gift-service
   tier: backend
# Deployment for user-service
spec:
 replicas: 1
 selector:
   matchLabels:
     app: user-service
 template:
   metadata:
     labels:
       app: user-service
       project: gift-service
       tier: backend
   spec:
     containers:
     - name: user-service
       image: sk124590/user-service:2.1
       ports:
       - containerPort: 8084
       envFrom:
       - configMapRef:
           name: gift-config
       - secretRef:
           name: gift-secret
       resources:
         requests:
           cpu: "150m"
           memory: "512Mi"
         limits:
           cpu: "1000m"
           memory: "1Gi"
---
apiVersion: v1
kind: Service
metadata:
 name: user-service-svc
 labels:
   app: user-service
   project: gift-service
   tier: backend
# Service for user-service
spec:
 type: ClusterIP
 ports:
 - port: 8084
   targetPort: 8084
 selector:
   app: user-service
---
apiVersion: apps/v1
kind: Deployment
metadata:
 name: product-service
 labels:
   app: product-service
   project: gift-service
   tier: backend
# Deployment for product-service
spec:
 replicas: 1
 selector:
   matchLabels:
     app: product-service
 template:
   metadata:
     labels:
       app: product-service
       project: gift-service
       tier: backend
   spec:
     containers:
     - name: product-service
       image: sk124590/product-service:2.1
       ports:
       - containerPort: 8081
       resources:
         requests:
           cpu: "150m"
           memory: "512Mi"
         limits:
           cpu: "1000m"
           memory: "1Gi"
---
apiVersion: v1
kind: Service
metadata:
 name: product-service-svc
 labels:
   app: product-service
   project: gift-service
   tier: backend
# Service for product-service
spec:
 type: ClusterIP
 ports:
 - port: 8081
   targetPort: 8081
 selector:
   app: product-service
---
apiVersion: apps/v1
kind: Deployment
metadata:
 name: wish-service
 labels:
   app: wish-service
   project: gift-service
   tier: backend
# Deployment for wish-service
spec:
 replicas: 1
 selector:
   matchLabels:
     app: wish-service
 template:
   metadata:
     labels:
       app: wish-service
       project: gift-service
       tier: backend
   spec:
     containers:
     - name: wish-service
       image: sk124590/wish-service:2.1
       ports:
       - containerPort: 8082
       envFrom:
       - configMapRef:
           name: gift-config
       resources:
         requests:
           cpu: "100m"
           memory: "512Mi"
         limits:
           cpu: "700m"
           memory: "1Gi"
---
apiVersion: v1
kind: Service
metadata:
 name: wish-service-svc
 labels:
   app: wish-service
   project: gift-service
   tier: backend
# Service for wish-service
spec:
 type: ClusterIP
 ports:
 - port: 8082
   targetPort: 8082
 selector:
   app: wish-service
---
apiVersion: apps/v1
kind: Deployment
metadata:
 name: order-service
 labels:
   app: order-service
   project: gift-service
   tier: backend
# Deployment for order-service
spec:
 replicas: 1
 selector:
   matchLabels:
     app: order-service
 template:
   metadata:
     labels:
       app: order-service
       project: gift-service
       tier: backend
   spec:
     containers:
     - name: order-service
       image: sk124590/order-service:2.1
       ports:
       - containerPort: 8083
       envFrom:
       - configMapRef:
           name: gift-config
       - secretRef:
           name: gift-secret
       resources:
         requests:
           cpu: "100m"
           memory: "512Mi"
         limits:
           cpu: "500m"
           memory: "512Mi"
---
apiVersion: v1
kind: Service
metadata:
 name: order-service-svc
 labels:
   app: order-service
   project: gift-service
   tier: backend
# Service for order-service
spec:
 type: ClusterIP
 ports:
 - port: 8083
   targetPort: 8083
 selector:
   app: order-service
---
apiVersion: apps/v1
kind: Deployment
metadata:
 name: gift-app
 labels:
   app: gift-app
   project: gift-service
   tier: frontend
# Deployment for gift-app
spec:
 replicas: 1
 selector:
   matchLabels:
     app: gift-app
 template:
   metadata:
     labels:
       app: gift-app
       project: gift-service
       tier: frontend
   spec:
     containers:
     - name: gift-app
       image: sk124590/gift-app:2.1
       ports:
       - containerPort: 8085
       envFrom:
       - configMapRef:
           name: gift-config
       - secretRef:
           name: gift-secret
       resources:
         requests:
           cpu: "100m"
           memory: "512Mi"
         limits:
           cpu: "700m"
           memory: "1Gi"
---
apiVersion: v1
kind: Service
metadata:
 name: gift-app-svc
 labels:
   app: gift-app
   project: gift-service
   tier: frontend
# LoadBalancer service for gift-app to expose it to the outside world
spec:
 type: LoadBalancer
 ports:
 - port: 8080
   targetPort: 8085
 selector:
   app: gift-app
```

| YAML 위치와 내용                                                                                                                                                                 | 참조된 Source                                  | 비고                                                                                    |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------- | ------------------------------------------------------------------------------------- |
| gift-secret.Secret.data.JTW\_SECRET / KAKAO\_CLIENT\_ID / KAKAO\_CLIENT\_SECRET                                                                                             | source\_13                                  | Secret 값은 반드시 Base64 인코딩하여 `data` 필드에 저장, `stringData` 금지                             |
| gift-config.ConfigMap.data.SERVICE\_PRODUCT\_URI / SERVICE\_WISH\_URI / SERVICE\_USER\_URI / SERVICE\_ORDER\_URI / KAKAO\_REDIRECT\_URI / API\_GATEWAY\_URI / FRONT\_DOMAIN | source\_5, source\_6, source\_7, source\_10 | 각 서비스 통신 주소 및 리다이렉트/도메인 정보가 ConfigMap에 정의됨                                            |
| api-gateway.Deployment.spec.template.spec.containers\[0].image = sk124590/api-gateway:2.1                                                                                   | source\_5                                   | `api-gateway` 컨테이너 이미지 및 버전 정보                                                        |
| api-gateway.Deployment.spec.template.spec.containers\[0].envFrom.configMapRef / secretRef                                                                                   | source\_5                                   | ConfigMap과 Secret에서 환경 변수 주입 규칙                                                       |
| api-gateway.Deployment.spec.template.spec.containers\[0].resources.requests/limits                                                                                          | source\_5                                   | CPU/메모리 리소스 요청 및 제한값                                                                  |
| user-service.Deployment.spec.template.spec.containers\[0].image = sk124590/user-service:2.1                                                                                 | source\_6                                   | `user-service` 컨테이너 이미지 및 포트 정의                                                       |
| user-service.Deployment.spec.template.spec.containers\[0].envFrom.configMapRef / secretRef                                                                                  | source\_6                                   | Secret(KAKAO, JWT), ConfigMap(KAKAO\_REDIRECT\_URI) 환경변수 정의                           |
| user-service.Deployment.spec.template.spec.containers\[0].resources.requests/limits                                                                                         | source\_6                                   | user-service 리소스 요청/제한값                                                               |
| product-service.Deployment.spec.template.spec.containers\[0].image = sk124590/product-service:2.1                                                                           | source\_8                                   | `product-service` 이미지/포트 정의                                                           |
| product-service.Deployment.spec.template.spec.containers\[0].resources.requests/limits                                                                                      | source\_8                                   | product-service 리소스 설정                                                                |
| wish-service.Deployment.spec.template.spec.containers\[0].image = sk124590/wish-service:2.1                                                                                 | source\_9                                   | `wish-service` 이미지/포트 정의                                                              |
| wish-service.Deployment.spec.template.spec.containers\[0].envFrom.configMapRef                                                                                              | source\_9                                   | ConfigMap에서 SERVICE\_PRODUCT\_URI 주입                                                  |
| wish-service.Deployment.spec.template.spec.containers\[0].resources.requests/limits                                                                                         | source\_9                                   | wish-service 리소스 요청/제한값                                                               |
| order-service.Deployment.spec.template.spec.containers\[0].image = sk124590/order-service:2.1                                                                               | source\_10                                  | `order-service` 이미지/포트 정의                                                             |
| order-service.Deployment.spec.template.spec.containers\[0].envFrom.configMapRef / secretRef                                                                                 | source\_10                                  | ConfigMap(SERVICE\_PRODUCT\_URI, WISH\_URI, USER\_URI, FRONT\_DOMAIN) + Secret(KAKAO) |
| order-service.Deployment.spec.template.spec.containers\[0].resources.requests/limits                                                                                        | source\_10                                  | order-service 리소스 요청/제한값                                                              |
| gift-app.Deployment.spec.template.spec.containers\[0].image = sk124590/gift-app:2.1                                                                                         | source\_7                                   | `gift-app` 컨테이너 이미지 및 포트 정의                                                           |
| gift-app.Deployment.spec.template.spec.containers\[0].envFrom.configMapRef / secretRef                                                                                      | source\_7                                   | ConfigMap(API\_GATEWAY\_URI, KAKAO\_REDIRECT\_URI) + Secret(JWT\_SECRET)              |
| gift-app.Deployment.spec.template.spec.containers\[0].resources.requests/limits                                                                                             | source\_7                                   | gift-app 리소스 요청/제한값                                                                   |
| gift-app-svc.Service.spec.type = LoadBalancer                                                                                                                               | source\_4                                   | gift-app 외부 노출은 LoadBalancer 방식으로 8080 → 8085 매핑                                      |
| api-gateway-svc, user-service-svc, product-service-svc, wish-service-svc, order-service-svc Service.spec.type = ClusterIP                                                   | source\_4                                   | 내부 서비스는 ClusterIP 타입으로 내부 통신만 허용                                                      |

## 특징: 첫 성공. 모든 서비스 동작